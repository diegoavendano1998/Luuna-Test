{% extends 'baseProducts.html' %}

{% block container %}
        
        <section class="error">
            <div class="container d-flex" style="height: 50rem;">
                <div class="row align-items-start" style="margin: auto auto;">
                    <div class="col-12">
                        {% include 'partials/_alerts.html' %}
                        <div class="card p-4 shadow border-dark">
                            <form action="{{ url_for('auth.login')}}" method="POST">
                                <h2>Login <i class="fa fa-user login-icon"></i></h2>
                                <br>
                        
                                <div class="form-group">
                                    <strong>{{ form.username.label }} </strong>
                                    {{ form.username(class="form-control") }}
                                </div>
                                <div class="form-group">
                                    <strong>{{ form.password.label }}</strong>
                                    {{ form.password(class="form-control") }}
                                </div> 
                                {{ form.next() }}
                                <a href="{{ url_for('auth.forgotPassword')}}" style="margin-top: 1rem; margin-left: 4rem;">Olvide mi contrase√±a</a>
                                <hr>
                                <input class="btn btn-success btn-block" type="submit" value="Entrar">
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </section>


        <script>
            // # crear el window para buscar el paramentro 
            var params = new URLSearchParams(window.location.search)
            // # Revisar que el parametro exista 
            if(params.has("next"))
                // # Cargar el valor de next en el form
                document.getElementById("next").value = params.get("next")
            console.log(document.getElementById("next").value)
        </script>
{% endblock %}

